<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tool • DailyAI Italia</title>
<style>
:root{--border:#e5e7eb;--muted:#6b7280}
*{box-sizing:border-box} body{margin:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#0f172a}
.container{max-width:960px;margin:auto;padding:16px}
.badge{display:inline-block;border:1px solid var(--border);padding:3px 8px;border-radius:999px;font-size:12px;background:#f3f4f6}
.cover{aspect-ratio:16/9;background:#f3f4f6;border-radius:14px;overflow:hidden}
.cover img{width:100%;height:100%;object-fit:cover}
.header{display:flex;gap:12px;align-items:center;margin:12px 0}
.header img{width:56px;height:56px;border-radius:10px;background:#eee;object-fit:cover}
.meta{color:var(--muted);font-size:14px}
a.btn{display:inline-block;padding:8px 12px;border-radius:10px;border:1px solid var(--border)}
</style>
</head>
<body>
<div class="container">
  <p><a href="./">← Torna alla directory</a></p>
  <div id="root">Caricamento…</div>
</div>

<script>
function esc(s){return (s||"").replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m]))}
function slug(){ return new URL(location.href).searchParams.get("slug") || ""; }

async function load(){
  const r = await fetch("./public/tools.json?_=" + Date.now());
  const data = await r.json();
  const t = (data.tools||[]).find(x => x.slug === slug());
  const el = document.getElementById("root");
  if(!t){ el.innerHTML = "<p>Tool non trovato.</p>"; return; }

  el.innerHTML = `
    <header class="header">
      <img src="${t.logo}" alt="">
      <div>
        <h1 style="margin:0">${esc(t.name)}</h1>
        <div class="meta">${esc(t.tagline||"")}</div>
      </div>
      <div style="flex:1"></div>
      <a class="btn" href="${t.website}" target="_blank" rel="noopener">Visita</a>
    </header>

    <div class="cover"><img src="${t.cover}" alt=""></div>

    <h3>Descrizione</h3>
    <p>${esc(t.description||"")}</p>

    <h3>Prezzi</h3>
    <p>${esc(t.pricing||"")}</p>

    <h3>Tag</h3>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      ${(t.categories||[]).map(c=>`<span class="badge">${esc(c)}</span>`).join("")}
      ${(t.badges||[]).map(b=>`<span class="badge">${esc(b)}</span>`).join("")}
    </div>
  `;
}
load();
</script>
</body>
</html>
